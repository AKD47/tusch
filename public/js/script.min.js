function fixedScroll(t,a,e){var r=$(document).scrollTop(),n=e.offset().top,o=t.outerHeight();r>a&&r<n-o?t.addClass("fixed").removeAttr("style"):r>n-o?t.removeClass("fixed").css({position:"absolute",bottom:"50px",right:"0"}):t.removeClass("fixed")}if($("#map").length>0){var map=new Map;map.init({selector:"#map2",center:"г. Донецк, ул. Артема 75",zoom:12,placemarks:[{address:"г. Донецк, ул. Артема 75",options:[{key:"draggable",value:!0}],properties:[{key:"hintContent",value:"Тыц"},{key:"balloonContentHeader",value:"Предприятия Донецка"},{key:"balloonContentBody",value:"<h1>ArtCraft</h1>"}]},{address:"г. Донецк, ул. Артема 100",options:[{key:"draggable",value:!0}],properties:[{key:"hintContent",value:"Пока"}]}]})}$(document).ready(function(){$(document).on("click","#header-burger",function(t){var a=$("#header-burger"),e=$(".header__nav");t.preventDefault(),a.hasClass("show")?(a.removeClass("show"),e.slideUp("fast")):(a.addClass("show"),e.slideDown("fast"))}),window.innerWidth<670&&$(document).on("click",function(t){1!=$(t.target).closest(".header__navigation").length&&($(".header__nav").slideUp("fast"),$("#burger").removeClass("show"))}),$(document).on("click",".nav-top a",function(t){t.preventDefault();var a=$(this).attr("href"),e=$(a),r=e.offset().top;return $("html,body").animate({scrollTop:r},1e3),!1});var t=$(window).height(),a=$(".how"),e=$(".how__box--item");$(window).scroll(function(){$(this).scrollTop()+t>=a.offset().top&&e.each(function(t){$(this).delay(500*t++).fadeTo(1e3,1)})}),$("#contact-name, #contact-email, #contact-phone, #contact-text").unbind().blur(function(){var t=$(this).attr("id"),a=$(this).val();switch(t){case"contact-name":var e=/^[a-zA-Zа-яА-Я]+$/;a.length>2&&""!=a&&e.test(a)?$(this).removeClass("error").addClass("not_error"):$(this).removeClass("not_error").addClass("error");break;case"contact-email":var r=/^([a-zA-Z0-9_.-])+@([a-zA-Z0-9_.-])+\.([a-zA-Z])+([a-zA-Z])+/;""!=a&&r.test(a)?$(this).removeClass("error").addClass("not_error"):$(this).removeClass("not_error").addClass("error");break;case"contact-phone":var n=/^([0-9_-])+/;""!=a&&n.test(a)?$(this).removeClass("error").addClass("not_error"):$(this).removeClass("not_error").addClass("error");break;case"contact-text":""!=a&&a.length<5e3?$(this).removeClass("error").addClass("not_error"):$(this).removeClass("not_error").addClass("error")}}),$("#contact-form").submit(function(t){t.preventDefault();var a=$("#contact-name").val(),e=$("#contact-email").val(),r=$("#contact-phone").val(),n=$("#contact-text").val();return $.ajax({url:myajax.url,type:"POST",data:{action:"contact",name:a,mail:e,phone:r,message:n},success:function(t){$("#contact-form input, textarea").val("").removeClass("error, not_error").text("")}}),!1}),$("#fileinput-1").fileinput();var r=$("#sidebar");if(r.length>0){var n=r.offset().top;$(window).scroll(function(){fixedScroll(r,n,$("#footer"))})}$(document).on("click",".add-field",function(t){t.preventDefault();var a=$(this).closest(".cabinet__add-company-form--wrapper").next(".cabinet__add-company-form--hover-wrapper"),e=a.attr("data-count");e<10&&($(this).closest(".cabinet__add-company-form--wrapper").next(".cabinet__add-company-form--hover-wrapper").attr("data-count",parseInt(e)+1),$(a).append('<div class="cabinet__add-company-form--hover-elements"><p class="cabinet__add-company-form--title"></p><input class="cabinet__add-company-form--field" type="text" name="mytext[]"><a href="#" class="show-more remove-field">удалить</a><p class="cabinet__add-company-form--notice"></p></div>'))}),$(document).on("click",".remove-field",function(t){t.preventDefault();var a=$(this).closest(".cabinet__add-company-form--hover-wrapper"),e=$(this).closest(".cabinet__add-company-form--hover-elements"),r=a.attr("data-count");e.remove(),a.attr("data-count",parseInt(r)-1)}),$(".business__descr p").find("img").each(function(){$(this).addClass("newsImg"),$(this).wrap('<a href="'+$(this).attr("src")+'" data-lightbox="image-1"></a>'),$(this).css({width:"100%",height:"100%"})}),$(".tab-content__wrapper").each(function(t){0!=t&&$(this).hide(0)}),$(document).on("click","tab-links a",function(t){t.preventDefault();var a=$(this).attr("href");$(".tab-links a").removeClass("active"),$(this).addClass("active"),$(".tab-content__wrapper").hide(0),$(a).fadeIn()}),$(document).on("click",".plus",function(){event.preventDefault();var t=$(".product__content--counter").find(".number"),a=parseInt($(".product__content--counter").find(".number").val());return 999!=a&&(t.val(a+1),$(".js-single-addtocart").attr("data-quantity",t.val()),$(".js-single-favorites").attr("data-quantity",t.val()),!1)}),$(document).on("click",".minus",function(){event.preventDefault();var t=$(".product__content--counter").find(".number"),a=parseInt(t.val())-1;return a=a<1?1:a,t.val(a),t.change(),$(".js-single-addtocart").attr("data-quantity",a),$(".js-single-favorites").attr("data-quantity",a),!1}),$(document).on("keyup",".product__content--counter .number",function(){var t=$(this),a=parseInt(t.val()),e=$(this).closest(".header__basket--item"),r=e.closest(".header__basket--inner").find(".header__basket--field");a>999?t.val(999).attr("value",999):a<1&&t.val(1).attr("value",1),t.hasClass("number")?$(".js-single-favorites").attr("data-quantity",t.val()):t.hasClass("modal__number")&&$(".js-modal-favorites").attr("data-quantity",t.val());var n=parseInt(e.find(".header__basket--counter").find(".header__basket--price span").html()),o=parseInt(e.find(".header__basket--field").val());isNaN(o)&&(o=1,e.find(".header__basket--field").val(1).attr("val",1));var s=n*o,i="<span>"+s+'</span><i class="fa fa-rub" aria-hidden="true"></i>';e.find(".header__basket--total").html(i),e.find(".header__basket--to-basket").attr("data-quantity",o),e.find(".product__like").attr("data-quantity",o);var l=0;$.each(r,function(){l+=parseInt($(this).val())}),e.closest(".full").find(".js-basket-total").text(l);var c=e.data("type");null!==c&&updateFavoritesQuantity(c,o);var d=e.data("hash");return void 0!==d&&""!==d&&updateCartQuantity(d,o),!1}),$(document).on("blur",".product__content--counter .number",function(){var t=$(this),a=parseInt(t.val());isNaN(a)&&t.val(1),t.hasClass("number")?$(".js-single-favorites").attr("data-quantity",t.val()):t.hasClass("modal__number")&&$(".js-modal-favorites").attr("data-quantity",t.val())})});